#-------------------------------------------------------------------------------
# Author:      dimak222
#
# Created:     25.08.2022
# Copyright:   (c) dimak222 2022
# Licence:     No
#-------------------------------------------------------------------------------

title = "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ñ–æ—Ä—É–º–∞ ASCON"
ver = "v0.8.0.0"

def DoubleExe():# –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å –æ—Ç–∫–ª—é—á—ë–Ω–Ω—ã–º –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º –æ–∫–Ω–æ–º "CREATE_NO_WINDOW"

    import subprocess # –º–æ–¥—É–ª—å –≤—ã–≤–æ–¥–∞ –∑–∞–ø—É—â–µ–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
    import os # –º–æ–¥—É–ª—å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
    from sys import exit # –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –æ—à–∏–±–∫–∏

    CREATE_NO_WINDOW = 0x08000000 # –æ—Ç–∫–ª—é—á—ë–Ω–Ω–æ–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    processes = subprocess.Popen('tasklist', stdin=subprocess.PIPE, stderr=subprocess.PIPE, stdout=subprocess.PIPE, creationflags=CREATE_NO_WINDOW).communicate()[0] # —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
    processes = processes.decode('cp866') # –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞

    filename = os.path.basename(__file__) # –∏–º—è –∑–∞–ø—É—Å–∫–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞

    if str(processes).count(filename[0:25]) > 2: # –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–¥–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞) —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤ 25 —Å–∏–º–≤–æ–ª–æ–≤
        Message("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ!") # —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –æ–∫–æ–Ω –∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º
        exit() # –≤—ã—Ö–æ–¥–∏–º –∏–∑ –ø—Ä–æ–≥—Ä–∞–º—ã
    else:
        Message("–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ!") # —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –æ–∫–æ–Ω –∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º

def Message(text = "–û—à–∏–±–∫–∞!", counter = 4): # —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –æ–∫–æ–Ω —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º (—Ç–µ–∫—Å—Ç, –≤—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è)

    from threading import Thread # –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ—Ç–æ–∫–æ–≤
    import time # –º–æ–¥—É–ª—å –≤—Ä–µ–º–µ–Ω–∏

    def Resource_path(relative_path): # –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤–Ω—É—Ç—Ä–∏ exe —Ñ–∞–π–ª–∞

        import os # —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

        try: # –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ
            base_path = sys._MEIPASS # –ø—É—Ç—å –∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ PyInstaller

        except Exception: # –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
            base_path = os.path.abspath(".") # –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å

        return os.path.join(base_path, relative_path) # –æ–±—ä–µ–¥–µ–Ω—è–µ–º –∏ –≤–æ–∑–≤–∞—â–∞–µ–º –ø–æ–ª–Ω—ã–π –ø—É—Ç—å

    def Message_Thread(text, counter): # —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –æ–∫–æ–Ω —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º (—Ç–µ–∫—Å—Ç, –≤—Ä–µ–º—è –∑–∞–∫—Ä—ã—Ç–∏—è)

        import tkinter.messagebox as mb # –æ–∫–Ω–æ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
        import tkinter as tk # –º–æ–¥—É–ª—å –æ–∫–æ–Ω

        if counter == 0: # –≤—Ä–µ–º—è –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –æ–∫–Ω–∞ (–µ—Å–ª–∏ 0)
            counter = 1 # –∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 1 —Å–µ–∫
        window_msg = tk.Tk() # —Å–æ–∑–¥–∞–Ω–∏–µ –æ–∫–Ω–∞
        try: # –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á—ë–∫
            window_msg.iconbitmap(default = Resource_path("cat.ico")) # –∑–Ω–∞—á—ë–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
        except: # –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
            pass # –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
        window_msg.attributes("-topmost",True) # –æ–∫–Ω–æ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –æ–∫–æ–Ω
        window_msg.withdraw() # —Å–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ "–Ω–µ–≤–∏–¥–∏–º–æ–µ"
        time = counter * 1000 # –≤—Ä–µ–º—è –≤ –º–∏–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
        window_msg.after(time, window_msg.destroy) # –∑–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ —á–µ—Ä–µ–∑ n –º–∏–ª–∏—Å–µ–∫—É–Ω–¥
        if mb.showinfo(title, text, parent = window_msg) == "": # –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
            pass # –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
        else: # –µ—Å–ª–∏ –Ω–µ –∑–∞–∫—Ä—ã—Ç–æ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
            window_msg.destroy() # –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ –ø–æ –∫–Ω–æ–ø–∫–µ
        window_msg.mainloop() # –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–∫–Ω–∞

    msg_th = Thread(target = Message_Thread, args = (text, counter)) # –∑–∞–ø—É—Å–∫ –æ–∫–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
    msg_th.start() # –∑–∞–ø—É—Å–∫ –ø–æ—Ç–æ–∫–∞

    msg_th.join() # –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞, –∏–Ω–∞—á–µ –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –æ–∫–Ω–æ

def Txt_file(): # —Å—á–∏—Ç—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ txt —Ñ–∞–π–ª–∞

    import os # —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

    def Text_processing(lines, Path): # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ (—Å—Ç—Ä–æ–∫–∏ —Ç–µ–∫—Å—Ç–∞, –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É)

        import re # –º–æ–¥—É–ª—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
        from sys import exit # –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –æ—à–∏–±–∫–∏

        global parameters # –¥–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–ø–∏—Å–æ–∫ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

        def –°learing_the_list(lines): # –æ—á–∏—Å—Ç–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–æ–∫ –æ—Ç "#"

            import re # –º–æ–¥—É–ª—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

            lines_clean = [] # —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫ —Å —á–∏—Å—Ç—ã–º —Ç–µ–∫—Å—Ç–æ–º (–±–µ–∑ —Ç–µ–∫—Å—Ç–∞ –ø–æ—Å–ª–µ "#")

            for line in lines: # –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –æ–±—Ä–∞–±–æ—Ç–∫—É

                if line.isspace(): # –µ—Å–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
                    continue

                ignore_grid = re.findall("\".[^\"]+?#.+?\"", line) # –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å —Ä–µ—à–æ—Ç–∫–æ–π –≤ –∫–æ–≤—ã—á–∫–∞—Ö "***#***"

                if ignore_grid != []: # –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç —Å —Ä–µ—à–æ—Ç–∫–æ–π –≤ –∫–æ–≤—ã—á–∫–∞—Ö "***#***"

                    line = line.replace(ignore_grid[0], "–¢–µ–∫—Å—Ç —Å —Ä–µ—à–æ—Ç–∫–æ–π –≤ –∫–æ–≤—ã—á–∫–∞—Ö!=)", 1) # –∑–∞–º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç —Å —Ä–µ—à–æ—Ç–∫–æ–π –≤ –∫–æ–≤—ã—á–∫–∞—Ö "***#***" –Ω–∞ "|"

                    line_clean = line.split("#", 1)[0] # –µ—Å–ª–∏ –≤ —Å—Ç—Ä–æ–∫–µ –µ—Å—Ç—å "#" –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å—ë —á—Ç–æ –ø–æ—Å–ª–µ –Ω–µ—ë

                    line_clean = line_clean.replace("–¢–µ–∫—Å—Ç —Å —Ä–µ—à–æ—Ç–∫–æ–π –≤ –∫–æ–≤—ã—á–∫–∞—Ö!=)", ignore_grid[0], 1) # –∑–∞–º–µ–Ω—è–µ–º "|" –Ω–∞ —Ç–µ–∫—Å—Ç —Å —Ä–µ—à–æ—Ç–∫–æ–π –≤ –∫–æ–≤—ã—á–∫–∞—Ö "***#***"

                else: # –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç —Å —Ä–µ—à–æ—Ç–∫–æ–π –≤ –∫–æ–≤—ã—á–∫–∞—Ö "***#***"
                    line_clean = line.split("#", 1)[0] # –µ—Å–ª–∏ –≤ —Å—Ç—Ä–æ–∫–µ –µ—Å—Ç—å "#" –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å—ë —á—Ç–æ –ø–æ—Å–ª–µ –Ω–µ—ë

                if line_clean.strip() == "": # –µ—Å–ª–∏ –Ω–µ—Ç –∑–∞–ø–∏—Å–∏ –¥–æ #, –ø—Ä–æ–ø—É—Å—Ç–∏—å —Å—Ç—Ä–æ–∫—É
                    continue

                lines_clean.append(line_clean) # —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫ —Å —á–∏—Å—Ç—ã–º —Ç–µ–∫—Å—Ç–æ–º (–±–µ–∑ —Ç–µ–∫—Å—Ç–∞ –ø–æ—Å–ª–µ "#")

            return lines_clean # –≤–æ–∑–≤—Ä—è—â–∞–µ–º —á–∏—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏

        if lines == []: # –µ—Å–ª–∏ –≤ —Ñ–∞–π–ª–µ –Ω–µ—Ç –∑–∞–ø–∏—Å–∏, –≤–ø–∏—Å—ã–≤–∞–µ–º –≤ —Ñ–∞–π–ª –æ–ø—Ü–∏–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
            To_create_txt_file(Path) # —Å–æ–∑–¥–∞—Ç—å txt —Ñ–∞–π–ª —Å –∑–∞–ø–∏—Å—å—é –≤ –Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π

        else: # –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–µ–∫—Å—Ç –æ–±—Ä–∞—Ç–æ–±–∞—Ç—å –µ–≥–æ

            try: # –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ txt —Ñ–∞–π–ª–µ

                lines_clean = –°learing_the_list(lines) # –æ—á–∏—Å—Ç–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–æ–∫ –æ—Ç "#"

                for line in lines_clean: # –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –æ–±—Ä–∞–±–æ—Ç–∫—É
                    parameter = line.split("=") # –¥–µ–ª–∏–º –ø–æ "="
                    parameter[0] = parameter[0].strip() # —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –ø–æ –±–æ–∫–∞–º
                    parameter[1] = parameter[1].strip().strip('"') # —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –∏ "..." –ø–æ –±–æ–∫–∞–º

                    if parameter[1].find("True") != -1: # –µ—Å–ª–∏ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–æ —Å–ª–æ–≤–æ–º True, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –µ–≥–æ
                        parameter[1] = True # –ø—Ä–∏—Å–≤–æ–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ "True"

                    elif parameter[1].find("False") != -1 or parameter[1].strip() == "": # –µ—Å–ª–∏ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–æ —Å–ª–æ–≤–æ–º False –∏–ª–∏ "", –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –µ–≥–æ
                        parameter[1] = False # –ø—Ä–∏—Å–≤–æ–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ "False"

                    elif parameter[1].find(";") != -1: # –µ—Å–ª–∏ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Å ";", –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –µ–≥–æ
                        parameter[1] = parameter[1].split(";") # —Ä–∞–∑–¥–µ–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ ";", —Å–æ–∑–¥–∞—ë—Ç—å—Å—è —Å–ø–∏—Å–æ–∫

                    try: # –ø—ã—Ç–∞–µ–º—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–ª–æ–≤–∞—Ä—å
                        parameters[parameter[0]] = parameter[1] # –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ª–æ–≤–∞—Ä—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

                    except NameError: # –µ—Å–ª–∏ –Ω–µ—Ç —Å–ª–æ–≤–∞—Ä—è —Å–æ–∑–¥–∞—ë–º –µ–≥–æ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                        parameters = {} # —Å–æ–∑–¥–∞—ë–º —Å–ª–æ–≤–∞—Ä—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
                        parameters[parameter[0]] = parameter[1] # –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ª–æ–≤–∞—Ä—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

            except:
                Message("–ü—Ä–æ–≤–µ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–∞: \n\"" + Path + "\"\n–ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –µ–≥–æ, –Ω–æ–≤—ã–π –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.") # —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –æ–∫–æ–Ω —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º
                exit() # –≤—ã—Ö–æ–¥–∏–º –∏–∑ –ø—Ä–æ–≥—Ä–∞–º—ã

    def To_create_txt_file(name_txt_file): # —Å–æ–∑–¥–∞—Ç—å txt —Ñ–∞–π–ª —Å –∑–∞–ø–∏—Å—å—é –≤ –Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π

        import os # —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
        from sys import exit # –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –æ—à–∏–±–∫–∏

        txt_file = open(name_txt_file, "w+", encoding = "utf-8") # –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –∑–∞–ø–∏—Å–∏ (w+), –¥–ª—è —á—Ç–µ–Ω–∏—è (r), (–Ω–µ–≤–∏–¥–∏–º—ã–π —Ä–µ–∂–∏–º)

        txt = """only_new_topics = "False" # –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Ç–µ–º—ã, "True" - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
#-------------------------------------------------------------------------------
my_topics = "False" # –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º—ã —á–µ—Ä–µ–∑ ";" (–ø—Ä–∏–º–µ—Ä: "–ú–∞–∫—Ä–æ—Å "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –Ω–∞ —Ñ–æ—Ä—É–º–µ"; –ö–æ–º–ø–∞—Å v21; –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ PDF"), "False" –∏–ª–∏ "" - –≤—ã–≤–æ–¥–∏—Ç –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ –≤—Å–µ—Ö —Ç–µ–º
blacklist_of_topics = "False" # –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö —Ç–µ–º —á–µ—Ä–µ–∑ ";" (–ø—Ä–∏–º–µ—Ä: "–¢—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥—ã, —Å–≤–∞—Ä–µ–Ω–Ω—ã–µ –∏–∑ –≥–Ω—É—Ç–æ–≥–æ –ª–∏—Å—Ç–∞. –ù–∞–∫–ª–∞–¥–∫–∏ –Ω–∞ —Å—Ç—ã–∫–∏; –≠–ª–µ–∫—Ç—Ä–∏–∫–∞: –º–æ—â–Ω–æ—Å—Ç—å —Ä–µ–∑–∏—Å—Ç–æ—Ä–∞ –ü–≠–í–†-50, –∫–∞–∫ –æ–Ω–∞ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–∏."), "False" –∏–ª–∏ "" - –≤—ã–≤–æ–¥–∏—Ç –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ –≤—Å–µ—Ö —Ç–µ–º
#-------------------------------------------------------------------------------
first_msg = "False" # –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–≤–æ–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è), "True" - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
#-------------------------------------------------------------------------------
icon_in_notifications = "False" # –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–∫–æ–Ω–∫—É –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏, "True" - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å (–≤–ª–µ–∑–∞–µ—Ç –º–µ–Ω—å—à–µ —Ç–µ–∫—Å—Ç–∞ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏)
#-------------------------------------------------------------------------------
update_msg = "55; 100" # —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π, —Å–ª—É—á–∞–π–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç n –¥–æ m —Å–µ–∫—É–Ω–¥ (–Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –º–µ–Ω—å—à–µ 20 —Å–µ–∫, –≤–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –º–µ–Ω—å—à–µ 40 —Å–µ–∫)
error_time = "30; 100" # –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –º–µ–∂–¥—É –æ—à–∏–±–∫–∞–º–∏ (–ø–æ—Å–ª–µ 10 –æ—à–∏–±–æ–∫ –ø–æ–¥—Ä—è–¥ –≤—ã–¥–∞—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–∏–∫—Ä–∞—â–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã), —Å–ª—É—á–∞–π–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç n –¥–æ m —Å–µ–∫—É–Ω–¥
 """ # —Ç–µ–∫—Å—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã–π –≤ .txt —Ñ–∞–π–ª

        txt_file.write(txt) # –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –≤ —Ñ–∞–π–ª
        txt_file.close() # –∑–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª

        os.startfile(name_txt_file) # –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –≤ —Å–∏—Å—Ç–µ–º–µ
        Message("–í–≤–µ–¥–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è! \n–ò –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ.") # —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞
        exit() # –≤—ã—Ö–æ–¥–∏–º

    name_txt_file = os.path.join(title + ".txt") # –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞

    if os.path.exists(name_txt_file): # –µ—Å–ª–∏ –µ—Å—Ç—å txt —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ

        txt_file = open(name_txt_file, encoding = "utf-8") # –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –∑–∞–ø–∏—Å–∏ (w+), –¥–ª—è —á—Ç–µ–Ω–∏—è (r), (–Ω–µ–≤–∏–¥–∏–º—ã–π —Ä–µ–∂–∏–º)
        lines = txt_file.readlines()  # –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏
        txt_file.close() # –∑–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª

        Text_processing(lines, name_txt_file) # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ (—Å—Ç—Ä–æ–∫–∏ —Ç–µ–∫—Å—Ç–∞, –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É)

        Parameters() # –ø—Ä–∏—Å–≤–æ–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–æ—á–∏—Ç–∞–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

    else: # –µ—Å–ª–∏ –Ω–µ—Ç —Ñ–∞–π–ª–∞
        To_create_txt_file(name_txt_file) # —Å–æ–∑–¥–∞—Ç—å txt —Ñ–∞–π–ª —Å –∑–∞–ø–∏—Å—å—é –≤ –Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π (–ø—É—Ç—å –∫ txt —Ñ–∞–π–ª—É)

def Parameters(): # –ø—Ä–∏—Å–≤–æ–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–æ—á–∏—Ç–∞–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

    global only_new_topics # –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º

    global my_topics # –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º
    global blacklist_of_topics # –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º

    global first_msg # –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º

    global icon_in_notifications # –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º

    global update_msg # –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º
    global error_time # –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º

    only_new_topics = parameters.setdefault("only_new_topics", False) # –æ–ø—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Ç–µ–º—ã

    my_topics = parameters.setdefault("my_topics", False) # –æ–ø—Ü–∏—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö —Ç–µ–º —á–µ—Ä–µ–∑
    blacklist_of_topics = parameters.setdefault("blacklist_of_topics", False) # –æ–ø—Ü–∏—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö —Ç–µ–º

    first_msg = parameters.setdefault("first_msg", False) # –æ–ø—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –ø–µ—Ä–≤–æ–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

    icon_in_notifications = parameters.setdefault("icon_in_notifications", False) # –æ–ø—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –∏–∫–æ–Ω–∫—É –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏

    update_msg = parameters.setdefault("update_msg", (50, 100)) # –æ–ø—Ü–∏—è —á–∞—Å—Ç–æ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
    error_time = parameters.setdefault("error_time", (30, 100)) # –æ–ø—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è –º–µ–∂–¥—É –æ—à–∏–±–∫–∞–º–∏

def ASCON(): # —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç ASCONa

    import urllib.request # –º–æ–¥—É–ª—å –æ—Ç–∫—Ä—ã—Ç–∏—è URL-–∞–¥—Ä–µ—Å–∞
    import re # —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

    def site_processing(site): # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–∞

        import urllib.request # –º–æ–¥—É–ª—å –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–∞–π—Ç–æ–≤

        response = urllib.request.urlopen(site) # –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Å–∞–π—Ç
        html = response.read().decode("utf-8") # —Å—á–∏—Ç—ã–≤–∞–µ–º —Å –Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
        response.close() # –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥—É–ª—å

        return html # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—á–∏—Ç–∞–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ —Å–∞–π—Ç–∞

    def notification_message(mask, html): # –ø–æ–∏—Å–∫ –∏ –≤—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ html (–º–∞—Å–∫–∞ –ø–æ–∏—Å–∫–∞, —Ç–µ–∫—Å—Ç –≥–¥–µ –∏—Å–∫–∞—Ç—å)

        import re # –º–æ–¥—É–ª—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

        z = 0 # –Ω–æ–º–µ—Ä –ø–æ–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

        text = re.findall(mask, html)[z] # –∏—â–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã

        return text # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞–π–¥–µ–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

    html = site_processing("https://forum.ascon.ru/index.php?action=recent") # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–∞

    topic = notification_message("rel=\"nofollow\" title=\"(.+)\"", html) # –ø–æ–∏—Å–∫ –∏ –≤—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ html (–º–∞—Å–∫–∞ –ø–æ–∏—Å–∫–∞, —Ç–µ–∫—Å—Ç –≥–¥–µ –∏—Å–∫–∞—Ç—å)
    autor = notification_message("–ü–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç –æ—Ç <.+>\<a.+\"\>(.+)\<\/a\>", html) # –ø–æ–∏—Å–∫ –∏ –≤—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ html (–º–∞—Å–∫–∞ –ø–æ–∏—Å–∫–∞, —Ç–µ–∫—Å—Ç –≥–¥–µ –∏—Å–∫–∞—Ç—å)
    msg = notification_message("<div class=\"list_posts\">(.+)<\/div>", html) # –ø–æ–∏—Å–∫ –∏ –≤—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ html (–º–∞—Å–∫–∞ –ø–æ–∏—Å–∫–∞, —Ç–µ–∫—Å—Ç –≥–¥–µ –∏—Å–∫–∞—Ç—å)
    launch = notification_message("\/ <a href=\"(.+)\" rel=\"nofollow\"", html) # –ø–æ–∏—Å–∫ –∏ –≤—ã–≤–æ–¥ –ø—É—Ç–∏ –∫ —Ç–µ–º–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ html (–º–∞—Å–∫–∞ –ø–æ–∏—Å–∫–∞, —Ç–µ–∫—Å—Ç –≥–¥–µ –∏—Å–∫–∞—Ç—å)

    topic = topic.split("Re: ") # –¥–µ–ª–∏–º —Ç–µ–∫—Å—Ç —Ç–µ–º—ã –Ω–∞ "Re: "

    if len(topic) > 1: # –µ—Å–ª–∏ –ø–æ–¥–µ–ª–∏–ª–æ—Å—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º 2-—é —á–∞—Å—Ç—å
        if only_new_topics == False: # –µ—Å–ª–∏ –≤—ã–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ü–∏—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Ç–µ–º—ã
            topic = topic[1] # 2-—è —á–∞—Å—Ç—å —Å–ø–∏—Å–∫–∞
            Message_processing(topic, autor, msg, launch) # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (—Ç–µ–º–∞, –∞–≤—Ç–æ—Ä, —Å–æ–æ–±—â–µ–Ω–∏–µ, —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ)

    else: # –Ω–µ –¥–µ–ª–∏–ª–æ—Å—å –Ω–∞ "Re: "
        topic = "üÜï " + topic[0] # –∫ –Ω–∞—á–∞–ª—É —Ç–µ–º—ã –¥–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á—ë–∫ "üÜï"
        Message_processing(topic, autor, msg, launch) # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (—Ç–µ–º–∞, –∞–≤—Ç–æ—Ä, —Å–æ–æ–±—â–µ–Ω–∏–µ, —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ)

def Message_processing(topic, autor, msg, launch): # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (—Ç–µ–º–∞, –∞–≤—Ç–æ—Ä, —Å–æ–æ–±—â–µ–Ω–∏–µ, —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ)

    import re # –º–æ–¥—É–ª—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

    global ASCON_message # –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–º

    def blacklist_of_topic(topic): # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º—ã (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã)

        if blacklist_of_topics != False: # –µ—Å–ª–∏ –≤–≤–µ–¥–µ–Ω—ã –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º—ã –∏ –Ω–µ –ø—É—Å—Ç–æ

            if type(blacklist_of_topics) == list: # –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å–ø–∏—Å–æ–∫, –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

                for blacklist_of_topic in blacklist_of_topics: # –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –æ–±—Ä–∞–±–æ—Ç–∫—É
                    blacklist_of_topic = blacklist_of_topic.strip() # —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –ø–æ –±–æ–∫–∞–º
                    if blacklist_of_topic == topic: # –µ—Å–ª–∏ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —Ç–µ–º–∞ –∏ –Ω–æ–≤–∞—è —Ç–µ–º—ã —Å–æ–≤–ø–∞–ª–∏
                        print("–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —Ç–µ–º–∞:", blacklist_of_topic)
                        return False # –≤—ã–≤–æ–¥–∏–º False (–Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

                return True # –≤—ã–≤–æ–¥–∏–º True (–ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

            else: # –Ω–µ —Å–ø–∏—Å–æ–∫

                blacklist_of_topic = blacklist_of_topics.strip() # —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –ø–æ –±–æ–∫–∞–º
                if blacklist_of_topic == topic: # –µ—Å–ª–∏ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —Ç–µ–º–∞ –∏ –Ω–æ–≤–∞—è —Ç–µ–º—ã —Å–æ–≤–ø–∞–ª–∏
                    print("–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —Ç–µ–º–∞:", blacklist_of_topic)
                    return False # –≤—ã–≤–æ–¥–∏–º False (–Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

                else: # —Ç–µ–º—ã –Ω–µ —Å–æ–≤–ø–∞–ª–∏
                    return True # –≤—ã–≤–æ–¥–∏–º True (–ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

        else: # –Ω–µ –≤–≤–µ–¥–µ–Ω—ã –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º—ã
            return True # –≤—ã–≤–æ–¥–∏–º True (–ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

    def my_topic(topic): # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º—ã (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã)

        if my_topics != False: # –µ—Å–ª–∏ –≤–≤–µ–¥–µ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º—ã

            if type(my_topics) == list: # –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å–ø–∏—Å–æ–∫, –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

                for my_topic in my_topics: # –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –æ–±—Ä–∞–±–æ—Ç–∫—É
                    my_topic = my_topic.strip() # —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –ø–æ –±–æ–∫–∞–º
                    if my_topic == topic: # –µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —Ç–µ–º–∞ –∏ –Ω–æ–≤–∞—è —Ç–µ–º—ã —Å–æ–≤–ø–∞–ª–∏
                        print("–ò–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —Ç–µ–º–∞:", my_topic)
                        return True # –≤—ã–≤–æ–¥–∏–º True (–ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

                return False # –≤—ã–≤–æ–¥–∏–º False (–Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

            else: # –Ω–µ —Å–ø–∏—Å–æ–∫

                my_topic = my_topics.strip() # —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –ø–æ –±–æ–∫–∞–º
                if my_topic == topic: # –µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —Ç–µ–º–∞ –∏ –Ω–æ–≤–∞—è —Ç–µ–º—ã —Å–æ–≤–ø–∞–ª–∏
                    print("–ò–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —Ç–µ–º–∞:", my_topic)
                    return True # –≤—ã–≤–æ–¥–∏–º True (–ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

                else: # —Ç–µ–º—ã –Ω–µ —Å–æ–≤–ø–∞–ª–∏
                    return False # –≤—ã–≤–æ–¥–∏–º False (–Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

        else: # –Ω–µ –≤–≤–µ–¥–µ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º—ã
            return True # –≤—ã–≤–æ–¥–∏–º True (–ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—Å—Ç–∞)

    def dictionary_processing(text): # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Å–ª–æ–≤–∞—Ä—é

        import re # –º–æ–¥—É–ª—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

        dictionary = {r"&nbsp;":" ", # —Å–ª–æ–≤–∞—Ä—å –∑–∞–º–µ–Ω
            r"&quot;":"\"",
            r"&amp;":"&",
            r"\<blockquote class=[^\>]+\>":'\n"',
            r"\<br\>\</blockquote\>":'"\n',
            r"</blockquote\>":'"\n',
            r"</a></cite>" : " ",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/smiley.gif\" alt=\"&#58;&#41;\" title=\"Smiley\" class=\"smiley\">":"üòÑ",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/wink.gif\" alt=\";&#41;\" title=\"Wink\" class=\"smiley\">":"üòâ",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/shocked.gif\" alt=\"&#58;o\" title=\"Shocked\" class=\"smiley\">":"üò±",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/sad.gif\" alt=\"&#58;&#40;\" title=\"Sad\" class=\"smiley\">":"üòî",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/blink.gif\" alt=\"8-&#41;\" title=\"\" class=\"smiley\">":"üòâ",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/cry.gif\" alt=\"&#58;`&#40;\" title=\"Cry\" class=\"smiley\">":"üò≠",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/mad.gif\" alt=\"&gt;&#58;&#40;\" title=\"Mad\" class=\"smiley\">":"ü§¨",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/shuffle.gif\" alt=\"&#58;shu&#58;\" title=\"Shuffle\" class=\"smiley\">":"=/",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/angel.gif\" alt=\"&#58;angel&#58;\" title=\"angel\" class=\"smiley\">":"üòá",
            r"<img src=\"https://forum.ascon.ru/Smileys/fugue/rolleyes.gif\" alt=\"&#58;&#58;&#41;\" title=\"Roll Eyes\" class=\"smiley\">":"üôÑ",
            r"<br>":"\n",
            r"(<[^>]+?>)":"",
            r"&gt;":">",
            r"&#39;": "'"}

        for key in dictionary: # –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é –∑–∞–º–µ–Ω—É –∏–∑ —Å–ª–æ–≤–∞—Ä—è
            text = re.sub(key, dictionary[key], text) # –º–µ–Ω—è–µ–º –Ω–∞–π–¥–µ–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

        return text

    if blacklist_of_topic(topic): # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º—ã (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã)

        if my_topic(topic): # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–º—ã (–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã)

            topic = dictionary_processing(topic) # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Å–ª–æ–≤–∞—Ä—é
            topic = re.sub("\"", "''", topic) # –º–µ–Ω—è–µ–º " => '' —Ç.–∫. –Ω–µ –≤—ã–¥–∞—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ "

            msg = dictionary_processing(msg) # –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Å–ª–æ–≤–∞—Ä—é

            if ASCON_message == "": # –µ—Å–ª–∏ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏—Å–≤–æ–∏—Ç—å –µ–º—É —Ç–µ–∫—Å—Ç

                if first_msg: # –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–≤–æ–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞–∫—Ç—É–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ my_topics = "False")
                    print("–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!")
                    print(topic + "\n–û—Ç " + autor + ":\n" + msg)
                    Windows_msg(Name_app = "–ü–µ—Ä–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ñ–æ—Ä—É–º–∞ ASCON", title = topic, msg = "–û—Ç " + autor + ": " + msg, duration = "short", icon = "", launch = launch) # —Å–æ–æ–±—â–µ–Ω–∏–µ Windows (–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Å–æ–æ–±—â–µ–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∏–∫–æ–Ω–∫–∏, —Å—Å—ã–ª–∫–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

                ASCON_message = msg # –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

            else: # –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

                if msg != ASCON_message:
                    print(topic + "\n–û—Ç " + autor + ":\n" + msg)
                    Windows_msg(Name_app = title, title = topic, msg = "–û—Ç " + autor + ": " + msg, duration = "short", icon = "", launch = launch) # —Å–æ–æ–±—â–µ–Ω–∏–µ Windows (–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Å–æ–æ–±—â–µ–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∏–∫–æ–Ω–∫–∏, —Å—Å—ã–ª–∫–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
                    ASCON_message = msg # –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

                else:
                    print("–ù–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ—Ç!")

        else: # –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö —Ç–µ–º

            ASCON_message = msg # –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            print("–ù–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö —Ç–µ–º!")

    else: # —Ç–µ–º–∞ –≤ —á—ë—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ

        ASCON_message = msg # –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        print("–¢–µ–º–∞ –≤ —á—ë—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ!")

def Windows_msg(Name_app = "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", title = "–ó–∞–≥–æ–ª–æ–≤–æ–∫", msg = "–°–æ–æ–±—â–µ–Ω–∏–µ", duration = "short", icon = "", launch = ""): # —Å–æ–æ–±—â–µ–Ω–∏–µ Windows (–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Å–æ–æ–±—â–µ–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∏–∫–æ–Ω–∫–∏, —Å—Å—ã–ª–∫–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

    from winotify import Notification, audio # –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Windows

    def Resource_path(relative_path): # –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤–Ω—É—Ç—Ä–∏ exe —Ñ–∞–π–ª–∞

        import os # —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

        try: # –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ
            base_path = sys._MEIPASS # –ø—É—Ç—å –∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ PyInstaller

        except Exception: # –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
            base_path = os.path.abspath(".") # –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å

        return os.path.join(base_path, relative_path) # –æ–±—ä–µ–¥–µ–Ω—è–µ–º –∏ –≤–æ–∑–≤–∞—â–∞–µ–º –ø–æ–ª–Ω—ã–π –ø—É—Ç—å

    if icon_in_notifications: # –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–∫–æ–Ω–∫—É –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏
        if icon == "": # –µ—Å–ª–∏ –ø—É—Ç—å –∫ –∏–∫–æ–Ω–∫–∏ –Ω–µ –∑–∞–¥–∞–Ω
            icon = "cat.ico" # –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—è–¥–æ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—É—é –∏–∫–æ–Ω–∫—É

    toast = Notification(app_id = Name_app, # –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
                         title = title, # –∑–∞–≥–æ–ª–æ–≤–æ–∫
                         msg = msg, # —Å–æ–æ–±—â–µ–Ω–∏–µ
                         duration = duration, # –≤—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è ("short" –∏–ª–∏ "long")
                         icon = Resource_path(icon), # –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∏–∫–æ–Ω–∫–µ
                         launch = launch) # —á—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

    toast.set_audio(audio.Default, loop = False) # –∑–≤—É–∫ —Å–æ–æ–±—â–µ–Ω–∏—è

##    toast.add_actions(label = "–°—Å—ã–ª–∫–∞", launch = "https://github.com/versa-syahptr/winotify/") # –∫–Ω–æ–ø–∫–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

    toast.show() # –∑–∞–ø—É—Å—Ç–∏—Ç—å

def Sleep(update_msg): # –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç n –¥–æ m —Å–µ–∫—É–Ω–¥

    import random # –∏–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
    import time # –º–æ–¥—É–ª—å –¥–ª—è –ø–∞—É–∑

    n = int(update_msg[0]) # —á–∏—Å–ª–æ n
    m = int(update_msg[1]) # —á–∏—Å–ª–æ m

    if n < 20: # –µ—Å–ª–∏ –Ω–∏–∂–Ω–∏–π –ø–æ—Ä–æ–≥ –º–µ–Ω—å—à–µ 20 —Å–µ–∫ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –µ–º—É 20 —Å–µ–∫ (—á—Ç–æ –±—ã –Ω–µ DDos–∏—Ç—å)
        n = 20 # 20 —Å–µ–∫ –Ω–∏–∂–Ω–∏–π –ø–æ—Ä–æ–≥

    if m < 40: # –µ—Å–ª–∏ –≤–µ—Ä—Ö–Ω–∏–π –ø–æ—Ä–æ–≥ –º–µ–Ω—å—à–µ 40 —Å–µ–∫ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –µ–º—É 40 —Å–µ–∫ (—á—Ç–æ –±—ã –Ω–µ DDos–∏—Ç—å)
        m = 40 # 40 —Å–µ–∫ –≤–µ—Ä—Ö–Ω–∏–π –ø–æ—Ä–æ–≥

    if n > m: # –µ—Å–ª–∏ –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ –≤—Ç–æ—Ä–æ–≥–æ —Å—Ä–∞–≤–Ω—è—Ç—å –∏—Ö
        n = m # –ø—Ä–∏—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è

    randomN = random.randint(n, m) # —Å–ª—É—á–∞–π–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –æ—Ç n –¥–æ m

    time.sleep(randomN) # –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ n —Å–µ–∫—É–Ω–¥

def error(e = "–û—à–∏–±–∫–∞!"): # –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø—ã—Ç–∞–µ—Ç—å—Å—è 10 –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–∏–º—è –æ—à–∏–±–∫–∏)

    from sys import exit # –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –æ—à–∏–±–∫–∏

    global err # —Å—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ (–¥–ª—è —á—Ç–µ–Ω–∏—è –≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏)

    print("–û—à–∏–±–∫–∞" , err, ":", e)

    if err <= 10: # –µ—Å–ª–∏ –æ—à–∏–±–æ–∫ –º–µ–Ω—å—à–µ –∑–∞–¥–æ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞

        err += 1 # –¥–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∫ —Å—á—ë—Ç—á–∏–∫—É –æ—à–∏–±–æ–∫

        try: # –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–¥–µ–ª–∞—Ç—å –ø–∞—É–∑—É
            Sleep(int(error_time[0]), int(error_time[1])) # –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–µ –æ—Ç n –¥–æ m —Å–µ–∫—É–Ω–¥

        except:
            Message("–ü—Ä–æ–≤–µ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: " + "error_time" + "\"\n–ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª, –Ω–æ–≤—ã–π –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.", 8) # —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –æ–∫–æ–Ω –∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º
            exit() # –≤—ã—Ö–æ–¥–∏–º –∏–∑ –ø—Ä–æ–≥—Ä–∞–º—ã

    else:
        Windows_msg(Name_app = "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ñ–æ—Ä—É–º–∞ ASCON", title = "–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ!", msg = "–ü–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞: " + "\"" + str(e) + "\"", duration = "short", icon = icon, launch = "") # —Å–æ–æ–±—â–µ–Ω–∏–µ Windows
        exit() # –≤—ã—Ö–æ–¥–∏–º –∏–∑ –ø—Ä–æ–≥—Ä–∞–º—ã

#-------------------------------------------------------------------------------

ASCON_message = "" # —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
err = 0 # —Å—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫

DoubleExe() # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å –æ—Ç–∫–ª—é—á—ë–Ω–Ω—ã–º –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º –æ–∫–Ω–æ–º "CREATE_NO_WINDOW"

Txt_file() # —Å—á–∏—Ç—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ txt —Ñ–∞–π–ª–∞

while 1: # —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

    try: # –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É

        ASCON() # —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç ASCONa

        err = 0 # —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫

        Sleep(update_msg) # –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç n –¥–æ m —Å–µ–∫—É–Ω–¥

    except Exception as e: # –ª–æ–≤–∏–º –ª—é–±—ã–µ –æ—à–∏–±–∫–∏

        error(e) # –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –ø—ã—Ç–∞–µ—Ç—å—Å—è 10 –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–∏–º—è –æ—à–∏–±–∫–∏)